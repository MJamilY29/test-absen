{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';// Interfaces moved from App.tsx\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Define the office location (latitude and longitude)\nconst OFFICE_LOCATION={latitude:-6.958115592601739,// Replace with your office's latitude\nlongitude:107.70755749004297// Replace with your office's longitude\n};const GEOFENCE_RADIUS=50;// in meters\nconst MainApp=_ref=>{let{user,onLogout}=_ref;const[staff,setStaff]=useState([]);const[attendance,setAttendance]=useState([]);const[records,setRecords]=useState([]);const[clockStatus,setClockStatus]=useState('out');const[error,setError]=useState(null);const[sortColumn,setSortColumn]=useState(null);const[sortDirection,setSortDirection]=useState('asc');const[searchTerm,setSearchTerm]=useState('');const[selectedMonth,setSelectedMonth]=useState(new Date().getMonth());// 0-11 for Jan-Dec\nconst[selectedYear,setSelectedYear]=useState(new Date().getFullYear());const[workTimeRecords,setWorkTimeRecords]=useState([]);const[workTimeSortColumn,setWorkTimeSortColumn]=useState(null);const[workTimeSortDirection,setWorkTimeSortDirection]=useState('asc');const[workTimeSearchTerm,setWorkTimeSearchTerm]=useState('');const[totalWorkTime,setTotalWorkTime]=useState(null);const fetchRecords=async id=>{try{const response=await axios.get(`http://localhost:5000/api/records/${id}`);const today=new Date().toISOString().slice(0,10);const todaysRecords=response.data.filter(r=>r.timestamp.startsWith(today));setRecords(todaysRecords);if(todaysRecords.length>0){setClockStatus(todaysRecords[todaysRecords.length-1].type==='clock-in'?'in':'out');}else{setClockStatus('out');// Reset status if no records for today\n}}catch(error){console.error('Error fetching records:',error);setClockStatus('out');// Reset status on error\n}};useEffect(()=>{axios.get('http://localhost:5000/api/staff').then(response=>setStaff(response.data));axios.get('http://localhost:5000/api/attendance').then(response=>setAttendance(response.data));if(user.staffId!==undefined){fetchRecords(user.staffId);}},[user.staffId]);useEffect(()=>{if(user.staffId!==undefined&&records.length>0){processWorkTimeRecords(user.staffId,records);calculateTotalWorkTime(records);}},[records,user.staffId]);const calculateTotalWorkTime=records=>{const clockIn=records.find(r=>r.type==='clock-in');const clockOut=records.find(r=>r.type==='clock-out');if(clockIn&&clockOut){const startTime=new Date(clockIn.timestamp).getTime();const endTime=new Date(clockOut.timestamp).getTime();const diffMillis=endTime-startTime;const hours=Math.floor(diffMillis/(1000*60*60));const minutes=Math.floor(diffMillis%(1000*60*60)/(1000*60));const seconds=Math.floor(diffMillis%(1000*60*60)%(1000*60)/1000);setTotalWorkTime(`${hours} jam ${minutes} menit ${seconds} detik`);}else{setTotalWorkTime(null);}};const handleAttendance=(staffId,name,status)=>{const now=new Date();const date=now.toISOString().split('T')[0];const time=now.toTimeString().split(' ')[0];// Get HH:MM:SS\nif(status==='Hadir'){if(!navigator.geolocation){setError('Geolocation is not supported by your browser');return;}navigator.geolocation.getCurrentPosition(position=>{const{latitude,longitude}=position.coords;const distance=getDistance(latitude,longitude,OFFICE_LOCATION.latitude,OFFICE_LOCATION.longitude);if(distance<=GEOFENCE_RADIUS){submitAttendance(staffId,name,status,date,time);}else{setError('Mohon aktifkan GPS anda.');}},()=>{setError('Absensi sudah dilaporkan untuk hari ini.');});}else{submitAttendance(staffId,name,status,date,time);}};const submitAttendance=(staffId,name,status,date,time)=>{axios.post('http://localhost:5000/api/attendance',{staffId,name,status,date,time}).then(response=>{setAttendance([...attendance,response.data]);setError(null);}).catch(err=>{if(err.response&&err.response.status===400){setError(err.response.data.message);}else{setError('An error occurred while submitting attendance.');}});};const getDistance=(lat1,lon1,lat2,lon2)=>{const R=6371e3;// metres\nconst φ1=lat1*Math.PI/180;// φ, λ in radians\nconst φ2=lat2*Math.PI/180;const Δφ=(lat2-lat1)*Math.PI/180;const Δλ=(lon2-lon1)*Math.PI/180;const a=Math.sin(Δφ/2)*Math.sin(Δφ/2)+Math.cos(φ1)*Math.cos(φ2)*Math.sin(Δλ/2)*Math.sin(Δλ/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;// in metres\n};const processWorkTimeRecords=(staffId,records)=>{const dailyRecords={};records.forEach(record=>{const date=new Date(record.timestamp).toISOString().slice(0,10);if(!dailyRecords[date]){dailyRecords[date]=[];}dailyRecords[date].push(record);});const processedRecords=[];for(const date in dailyRecords){const recordsForDate=dailyRecords[date].sort((a,b)=>new Date(a.timestamp).getTime()-new Date(b.timestamp).getTime());const clockIn=recordsForDate.find(r=>r.type==='clock-in');const clockOut=recordsForDate.reverse().find(r=>r.type==='clock-out');let totalHours='N/A';if(clockIn&&clockOut){const startTime=new Date(clockIn.timestamp).getTime();const endTime=new Date(clockOut.timestamp).getTime();const diffMillis=endTime-startTime;const hours=Math.floor(diffMillis/(1000*60*60));const minutes=Math.floor(diffMillis%(1000*60*60)/(1000*60));const seconds=Math.floor(diffMillis%(1000*60*60)%(1000*60)/1000);totalHours=`${hours} jam ${minutes} menit ${seconds} detik`;}else if(clockIn){totalHours='Sedang Bekerja';}if(clockIn||clockOut){var _staff$find;let keterangan='';if(clockIn){const clockInDate=new Date(clockIn.timestamp);const sevenAM=new Date(clockInDate);sevenAM.setHours(7,0,0,0);if(clockInDate.getTime()<sevenAM.getTime()){keterangan='Datang Lebih Awal';}else if(clockInDate.getHours()===7&&clockInDate.getMinutes()===0&&clockInDate.getSeconds()===0){keterangan='Tepat Waktu';}else{keterangan='Terlambat';}}processedRecords.push({_id:clockIn?clockIn._id:'',staffId:staffId,name:((_staff$find=staff.find(s=>s._id===staffId))===null||_staff$find===void 0?void 0:_staff$find.name)||'Unknown',date:date,clockInTime:clockIn?new Date(clockIn.timestamp).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false}):'N/A',clockOutTime:clockOut?new Date(clockOut.timestamp).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false}):'N/A',totalHours:totalHours,keterangan:keterangan});}}setWorkTimeRecords(processedRecords);};const handleClockIn=async()=>{if(!navigator.geolocation){setError('Geolocation is not supported by your browser');return;}navigator.geolocation.getCurrentPosition(async position=>{const{latitude,longitude}=position.coords;const distance=getDistance(latitude,longitude,OFFICE_LOCATION.latitude,OFFICE_LOCATION.longitude);if(distance<=GEOFENCE_RADIUS){try{await axios.post('http://localhost:5000/api/records',{staffId:user.staffId,type:'clock-in'});if(user.staffId){fetchRecords(user.staffId);}setError(null);}catch(error){setError(error.response.data.message);}}else{setError('Jam kerja sudah dilaporkan untuk hari ini.');}},()=>{setError('Tidak dapat mengambil lokasi Anda.');});};const handleClockOut=async()=>{if(!navigator.geolocation){setError('Geolocation is not supported by your browser');return;}navigator.geolocation.getCurrentPosition(async position=>{const{latitude,longitude}=position.coords;const distance=getDistance(latitude,longitude,OFFICE_LOCATION.latitude,OFFICE_LOCATION.longitude);if(distance<=GEOFENCE_RADIUS){try{await axios.post('http://localhost:5000/api/records',{staffId:user.staffId,type:'clock-out'});if(user.staffId){fetchRecords(user.staffId);}setError(null);}catch(error){setError(error.response.data.message);}}else{setError('Mohon aktifkan GPS anda.');}},()=>{setError('Tidak dapat mengambil lokasi Anda.');});};const handleSort=column=>{if(sortColumn===column){setSortDirection(sortDirection==='asc'?'desc':'asc');}else{setSortColumn(column);setSortDirection('asc');}};const handleWorkTimeSort=column=>{if(workTimeSortColumn===column){setWorkTimeSortDirection(workTimeSortDirection==='asc'?'desc':'asc');}else{setWorkTimeSortColumn(column);setWorkTimeSortDirection('asc');}};const sortedAttendance=[...attendance].filter(a=>{const attendanceDate=new Date(a.date);const monthMatch=selectedMonth===-1||attendanceDate.getMonth()===selectedMonth;const yearMatch=selectedYear===-1||attendanceDate.getFullYear()===selectedYear;const searchMatch=a.name.toLowerCase().includes(searchTerm.toLowerCase())||a.status.toLowerCase().includes(searchTerm.toLowerCase())||a.date.toLowerCase().includes(searchTerm.toLowerCase())||a.time.toLowerCase().includes(searchTerm.toLowerCase());return(user.role==='admin'||user.role==='staff'&&a.staffId===user.staffId)&&monthMatch&&yearMatch&&searchMatch;}).sort((a,b)=>{if(sortColumn===null)return 0;const aValue=a[sortColumn];const bValue=b[sortColumn];return sortDirection==='asc'?String(aValue).localeCompare(String(bValue)):String(bValue).localeCompare(String(aValue));});const sortedWorkTimeRecords=[...workTimeRecords].filter(r=>{const recordDate=new Date(r.date);const monthMatch=selectedMonth===-1||recordDate.getMonth()===selectedMonth;const yearMatch=selectedYear===-1||recordDate.getFullYear()===selectedYear;const searchMatch=r.name.toLowerCase().includes(workTimeSearchTerm.toLowerCase())||r.date.toLowerCase().includes(workTimeSearchTerm.toLowerCase())||r.clockInTime.toLowerCase().includes(workTimeSearchTerm.toLowerCase())||r.clockOutTime.toLowerCase().includes(workTimeSearchTerm.toLowerCase())||r.totalHours.toLowerCase().includes(workTimeSearchTerm.toLowerCase());return(user.role==='admin'||user.role==='staff'&&r.staffId===user.staffId)&&monthMatch&&yearMatch&&searchMatch;}).sort((a,b)=>{if(workTimeSortColumn===null)return 0;const aValue=a[workTimeSortColumn];const bValue=b[workTimeSortColumn];return workTimeSortDirection==='asc'?String(aValue).localeCompare(String(bValue)):String(bValue).localeCompare(String(aValue));});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mb-4\",onClick:onLogout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4\",children:\"Aplikasi Absensi Staff dan Guru\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:staff.filter(s=>user.role==='admin'||user.role==='staff'&&s._id===user.staffId).map(s=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:s.name})})})},s._id))}),user.role==='staff'&&/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Laporan Kehadiran Harian\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success me-2\",onClick:()=>{const currentUser=user;if(currentUser.staffId){handleAttendance(currentUser.staffId,currentUser.name,'Hadir');}else{setError('Staff ID is missing for attendance. Please contact support.');}},children:\"Hadir\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning me-2\",onClick:()=>{const currentUser=user;if(currentUser.staffId){handleAttendance(currentUser.staffId,currentUser.name,'Sakit');}else{setError('Staff ID is missing for attendance. Please contact support.');}},children:\"Sakit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:()=>{const currentUser=user;if(currentUser.staffId){handleAttendance(currentUser.staffId,currentUser.name,'Izin');}else{setError('Staff ID is missing for attendance. Please contact support.');}},children:\"Izin\"})]})]})}),user.role==='staff'&&/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Pencacatan Waktu Kerja Harian\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary me-2\",onClick:handleClockIn,disabled:clockStatus==='in',children:\"Masuk\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleClockOut,disabled:clockStatus==='out',children:\"Pulang\"})]})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),user.role==='staff'&&/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Aktivitas Kehadiran Hari Ini\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[attendance.filter(a=>a.staffId===user.staffId&&a.date===new Date().toISOString().split('T')[0]).map(att=>/*#__PURE__*/_jsxs(\"li\",{children:[\"Anda tercatat \",/*#__PURE__*/_jsx(\"strong\",{children:att.status}),\" pada jam \",att.time,\".\"]},att._id)),attendance.filter(a=>a.staffId===user.staffId&&a.date===new Date().toISOString().split('T')[0]).length===0&&/*#__PURE__*/_jsx(\"li\",{children:\"Belum ada laporan kehadiran untuk hari ini.\"})]})]})}),user.role==='staff'&&/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Aktivitas Masuk/Keluar Jam Kerja Hari Ini\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: Anda sedang \",clockStatus==='in'?'bekerja':'tidak bekerja']}),/*#__PURE__*/_jsxs(\"ul\",{children:[records.map(record=>/*#__PURE__*/_jsxs(\"li\",{children:[record.type==='clock-in'?'Masuk pada':'Pulang pada',\" \",new Date(record.timestamp).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false})]},record._id)),totalWorkTime&&/*#__PURE__*/_jsxs(\"li\",{children:[\"Total waktu kerja: \",/*#__PURE__*/_jsx(\"strong\",{children:totalWorkTime})]})]})]})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-5\",children:\"Riwayat Kehadiran\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Cari riwayat absensi...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:selectedMonth,onChange:e=>setSelectedMonth(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"Semua Bulan\"}),['Januari','Februari','Maret','April','Mei','Juni','Juli','Agustus','September','Oktober','November','Desember'].map((month,index)=>/*#__PURE__*/_jsx(\"option\",{value:index,children:month},index))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:selectedYear,onChange:e=>setSelectedYear(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"Semua Tahun\"}),Array.from(new Set(attendance.map(a=>new Date(a.date).getFullYear()))).map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",style:{maxHeight:'500px',overflowY:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleSort('name'),style:{cursor:'pointer'},children:[\"Nama \",sortColumn==='name'&&(sortDirection==='asc'?'▲':'▼')]}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleSort('status'),style:{cursor:'pointer'},children:[\"Status \",sortColumn==='status'&&(sortDirection==='asc'?'▲':'▼')]}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleSort('date'),style:{cursor:'pointer'},children:[\"Tanggal \",sortColumn==='date'&&(sortDirection==='asc'?'▲':'▼')]}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleSort('time'),style:{cursor:'pointer'},children:[\"Waktu \",sortColumn==='time'&&(sortDirection==='asc'?'▲':'▼')]})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedAttendance.map(a=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:a.name}),/*#__PURE__*/_jsx(\"td\",{children:a.status}),/*#__PURE__*/_jsx(\"td\",{children:a.date}),/*#__PURE__*/_jsx(\"td\",{children:a.time})]},a._id))})]})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-5\",children:\"Riwayat Waktu Kerja\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Cari riwayat waktu kerja...\",value:workTimeSearchTerm,onChange:e=>setWorkTimeSearchTerm(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:selectedMonth,onChange:e=>setSelectedMonth(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"Semua Bulan\"}),['Januari','Februari','Maret','April','Mei','Juni','Juli','Agustus','September','Oktober','November','Desember'].map((month,index)=>/*#__PURE__*/_jsx(\"option\",{value:index,children:month},index))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:selectedYear,onChange:e=>setSelectedYear(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"Semua Tahun\"}),Array.from(new Set(attendance.map(a=>new Date(a.date).getFullYear()))).map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",style:{maxHeight:'500px',overflowY:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleWorkTimeSort('name'),style:{cursor:'pointer'},children:[\"Nama \",workTimeSortColumn==='name'&&(workTimeSortDirection==='asc'?'▲':'▼')]}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleWorkTimeSort('date'),style:{cursor:'pointer'},children:[\"Tanggal \",workTimeSortColumn==='date'&&(workTimeSortDirection==='asc'?'▲':'▼')]}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleWorkTimeSort('clockInTime'),style:{cursor:'pointer'},children:[\"Jam Masuk \",workTimeSortColumn==='clockInTime'&&(workTimeSortDirection==='asc'?'▲':'▼')]}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleWorkTimeSort('clockOutTime'),style:{cursor:'pointer'},children:[\"Jam Pulang \",workTimeSortColumn==='clockOutTime'&&(workTimeSortDirection==='asc'?'▲':'▼')]}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleWorkTimeSort('totalHours'),style:{cursor:'pointer'},children:[\"Total Jam Kerja \",workTimeSortColumn==='totalHours'&&(workTimeSortDirection==='asc'?'▲':'▼')]}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>handleWorkTimeSort('keterangan'),style:{cursor:'pointer'},children:[\"Keterangan \",workTimeSortColumn==='keterangan'&&(workTimeSortDirection==='asc'?'▲':'▼')]})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedWorkTimeRecords.map(record=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:record.name}),/*#__PURE__*/_jsx(\"td\",{children:record.date}),/*#__PURE__*/_jsx(\"td\",{children:record.clockInTime}),/*#__PURE__*/_jsx(\"td\",{children:record.clockOutTime}),/*#__PURE__*/_jsx(\"td\",{children:record.totalHours}),/*#__PURE__*/_jsx(\"td\",{children:record.keterangan})]},record._id))})]})})]});};export default MainApp;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","OFFICE_LOCATION","latitude","longitude","GEOFENCE_RADIUS","MainApp","_ref","user","onLogout","staff","setStaff","attendance","setAttendance","records","setRecords","clockStatus","setClockStatus","error","setError","sortColumn","setSortColumn","sortDirection","setSortDirection","searchTerm","setSearchTerm","selectedMonth","setSelectedMonth","Date","getMonth","selectedYear","setSelectedYear","getFullYear","workTimeRecords","setWorkTimeRecords","workTimeSortColumn","setWorkTimeSortColumn","workTimeSortDirection","setWorkTimeSortDirection","workTimeSearchTerm","setWorkTimeSearchTerm","totalWorkTime","setTotalWorkTime","fetchRecords","id","response","get","today","toISOString","slice","todaysRecords","data","filter","r","timestamp","startsWith","length","type","console","then","staffId","undefined","processWorkTimeRecords","calculateTotalWorkTime","clockIn","find","clockOut","startTime","getTime","endTime","diffMillis","hours","Math","floor","minutes","seconds","handleAttendance","name","status","now","date","split","time","toTimeString","navigator","geolocation","getCurrentPosition","position","coords","distance","getDistance","submitAttendance","post","catch","err","message","lat1","lon1","lat2","lon2","R","φ1","PI","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","dailyRecords","forEach","record","push","processedRecords","recordsForDate","sort","b","reverse","totalHours","_staff$find","keterangan","clockInDate","sevenAM","setHours","getHours","getMinutes","getSeconds","_id","s","clockInTime","toLocaleTimeString","hour","minute","second","hour12","clockOutTime","handleClockIn","handleClockOut","handleSort","column","handleWorkTimeSort","sortedAttendance","attendanceDate","monthMatch","yearMatch","searchMatch","toLowerCase","includes","role","aValue","bValue","String","localeCompare","sortedWorkTimeRecords","recordDate","className","children","onClick","map","currentUser","disabled","att","placeholder","value","onChange","e","target","parseInt","month","index","Array","from","Set","year","style","maxHeight","overflowY","cursor"],"sources":["C:/Users/mjamily/Documents/testing absensi/frontend/src/MainApp.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// Interfaces moved from App.tsx\ninterface Staff {\n  _id: string; // Changed from id: number\n  name: string;\n}\n\ninterface Attendance {\n  _id: string; // Changed from id: number\n  staffId: string;\n  name: string;\n  status: string;\n  date: string;\n  time: string;\n}\n\ninterface Record {\n  _id: string; // Changed from id: number\n  staffId: string;\n  timestamp: string;\n  type: 'clock-in' | 'clock-out';\n}\n\ninterface WorkTimeRecord {\n  _id: string; // Kept as string, was likely implicitly string before\n  staffId: string;\n  name: string;\n  date: string;\n  clockInTime: string;\n  clockOutTime: string;\n  totalHours: string;\n  keterangan: string;\n}\n\ninterface User {\n  id: string;\n  username: string;\n  role: 'admin' | 'staff';\n  staffId?: string;\n  name: string; // Added name property\n}\n\n// Define the office location (latitude and longitude)\nconst OFFICE_LOCATION = {\n  latitude: -6.958115592601739, // Replace with your office's latitude\n  longitude: 107.70755749004297, // Replace with your office's longitude\n};\nconst GEOFENCE_RADIUS = 50; // in meters\n\ninterface MainAppProps {\n  user: User;\n  onLogout: () => void;\n}\n\nconst MainApp: React.FC<MainAppProps> = ({ user, onLogout }) => {\n  const [staff, setStaff] = useState<Staff[]>([]);\n  const [attendance, setAttendance] = useState<Attendance[]>([]);\n  const [records, setRecords] = useState<Record[]>([]);\n  const [clockStatus, setClockStatus] = useState('out');\n  const [error, setError] = useState<string | null>(null);\n  const [sortColumn, setSortColumn] = useState<keyof Attendance | null>(null);\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n  const [searchTerm, setSearchTerm] = useState<string>('');\n  const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth()); // 0-11 for Jan-Dec\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\n\n  const [workTimeRecords, setWorkTimeRecords] = useState<WorkTimeRecord[]>([]);\n  const [workTimeSortColumn, setWorkTimeSortColumn] = useState<keyof WorkTimeRecord | null>(null);\n  const [workTimeSortDirection, setWorkTimeSortDirection] = useState<'asc' | 'desc'>('asc');\n  const [workTimeSearchTerm, setWorkTimeSearchTerm] = useState<string>('');\n  const [totalWorkTime, setTotalWorkTime] = useState<string | null>(null);\n\n  const fetchRecords = async (id: string) => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/records/${id}`);\n      const today = new Date().toISOString().slice(0, 10);\n      const todaysRecords = (response.data as Record[]).filter((r: Record) => r.timestamp.startsWith(today));\n      setRecords(todaysRecords);\n\n      if (todaysRecords.length > 0) {\n        setClockStatus(todaysRecords[todaysRecords.length - 1].type === 'clock-in' ? 'in' : 'out');\n      } else {\n        setClockStatus('out'); // Reset status if no records for today\n      }\n    } catch (error) {\n      console.error('Error fetching records:', error);\n      setClockStatus('out'); // Reset status on error\n    }\n  };\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/staff').then((response) => setStaff(response.data));\n    axios.get('http://localhost:5000/api/attendance').then((response) => setAttendance(response.data));\n    if (user.staffId !== undefined) {\n      fetchRecords(user.staffId);\n    }\n  }, [user.staffId]);\n\n  useEffect(() => {\n    if (user.staffId !== undefined && records.length > 0) {\n      processWorkTimeRecords(user.staffId, records);\n      calculateTotalWorkTime(records);\n    }\n  }, [records, user.staffId]);\n\n  const calculateTotalWorkTime = (records: Record[]) => {\n    const clockIn = records.find(r => r.type === 'clock-in');\n    const clockOut = records.find(r => r.type === 'clock-out');\n\n    if (clockIn && clockOut) {\n      const startTime = new Date(clockIn.timestamp).getTime();\n      const endTime = new Date(clockOut.timestamp).getTime();\n      const diffMillis = endTime - startTime;\n\n      const hours = Math.floor(diffMillis / (1000 * 60 * 60));\n      const minutes = Math.floor((diffMillis % (1000 * 60 * 60)) / (1000 * 60));\n      const seconds = Math.floor(((diffMillis % (1000 * 60 * 60)) % (1000 * 60)) / 1000);\n\n      setTotalWorkTime(`${hours} jam ${minutes} menit ${seconds} detik`);\n    } else {\n      setTotalWorkTime(null);\n    }\n  };\n\n  const handleAttendance = (staffId: string, name: string, status: string) => {\n    const now = new Date();\n    const date = now.toISOString().split('T')[0];\n    const time = now.toTimeString().split(' ')[0]; // Get HH:MM:SS\n\n    if (status === 'Hadir') {\n      if (!navigator.geolocation) {\n        setError('Geolocation is not supported by your browser');\n        return;\n      }\n\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const { latitude, longitude } = position.coords;\n          const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude);\n\n          if (distance <= GEOFENCE_RADIUS) {\n            submitAttendance(staffId, name, status, date, time);\n          } else {\n            setError('Mohon aktifkan GPS anda.');\n          }\n        },\n        () => {\n          setError('Absensi sudah dilaporkan untuk hari ini.');\n        }\n      );\n    } else {\n      submitAttendance(staffId, name, status, date, time);\n    }\n  };\n\n  const submitAttendance = (staffId: string, name: string, status: string, date: string, time: string) => {\n    axios.post('http://localhost:5000/api/attendance', { staffId, name, status, date, time })\n      .then((response) => {\n        setAttendance([...attendance, response.data]);\n        setError(null);\n      })\n      .catch((err) => {\n        if (err.response && err.response.status === 400) {\n          setError(err.response.data.message);\n        } else {\n          setError('An error occurred while submitting attendance.');\n        }\n      });\n  };\n\n  const getDistance = (lat1: number, lon1: number, lat2: number, lon2: number) => {\n    const R = 6371e3; // metres\n    const φ1 = (lat1 * Math.PI) / 180; // φ, λ in radians\n    const φ2 = (lat2 * Math.PI) / 180;\n    const Δφ = ((lat2 - lat1) * Math.PI) / 180;\n    const Δλ = ((lon2 - lon1) * Math.PI) / 180;\n\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\n              Math.cos(φ1) * Math.cos(φ2) *\n              Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    return R * c; // in metres\n  };\n\n  const processWorkTimeRecords = (staffId: string, records: Record[]) => {\n    const dailyRecords: { [key: string]: Record[] } = {};\n    records.forEach(record => {\n      const date = new Date(record.timestamp).toISOString().slice(0, 10);\n      if (!dailyRecords[date]) {\n        dailyRecords[date] = [];\n      }\n      dailyRecords[date].push(record);\n    });\n\n    const processedRecords: WorkTimeRecord[] = [];\n    for (const date in dailyRecords) {\n      const recordsForDate = dailyRecords[date].sort((a, b) => new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime());\n      const clockIn = recordsForDate.find(r => r.type === 'clock-in');\n      const clockOut = recordsForDate.reverse().find(r => r.type === 'clock-out');\n\n      let totalHours = 'N/A';\n      if (clockIn && clockOut) {\n        const startTime = new Date(clockIn.timestamp).getTime();\n        const endTime = new Date(clockOut.timestamp).getTime();\n        const diffMillis = endTime - startTime;\n\n        const hours = Math.floor(diffMillis / (1000 * 60 * 60));\n        const minutes = Math.floor((diffMillis % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor(((diffMillis % (1000 * 60 * 60)) % (1000 * 60)) / 1000);\n\n        totalHours = `${hours} jam ${minutes} menit ${seconds} detik`;\n      } else if (clockIn) {\n        totalHours = 'Sedang Bekerja';\n      }\n\n      if (clockIn || clockOut) {\n        let keterangan = '';\n        if (clockIn) {\n          const clockInDate = new Date(clockIn.timestamp);\n          const sevenAM = new Date(clockInDate);\n          sevenAM.setHours(7, 0, 0, 0);\n\n          if (clockInDate.getTime() < sevenAM.getTime()) {\n            keterangan = 'Datang Lebih Awal';\n          } else if (clockInDate.getHours() === 7 && clockInDate.getMinutes() === 0 && clockInDate.getSeconds() === 0) {\n            keterangan = 'Tepat Waktu';\n          } else {\n            keterangan = 'Terlambat';\n          }\n        }\n\n        processedRecords.push({\n          _id: clockIn ? clockIn._id : '',\n          staffId: staffId,\n          name: staff.find(s => s._id === staffId)?.name || 'Unknown',\n          date: date,\n          clockInTime: clockIn ? new Date(clockIn.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false }) : 'N/A',\n          clockOutTime: clockOut ? new Date(clockOut.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false }) : 'N/A',\n          totalHours: totalHours,\n          keterangan: keterangan,\n        });\n      }\n    }\n    setWorkTimeRecords(processedRecords);\n  };\n\n  const handleClockIn = async () => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        const { latitude, longitude } = position.coords;\n        const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude);\n\n        if (distance <= GEOFENCE_RADIUS) {\n          try {\n            await axios.post('http://localhost:5000/api/records', { staffId: user.staffId, type: 'clock-in' });\n            if (user.staffId) {\n              fetchRecords(user.staffId);\n            }\n            setError(null);\n          } catch (error: any) {\n            setError(error.response.data.message);\n          }\n        } else {\n          setError('Jam kerja sudah dilaporkan untuk hari ini.');\n        }\n      },\n      () => {\n        setError('Tidak dapat mengambil lokasi Anda.');\n      }\n    );\n  };\n\n  const handleClockOut = async () => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        const { latitude, longitude } = position.coords;\n        const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude);\n\n        if (distance <= GEOFENCE_RADIUS) {\n          try {\n            await axios.post('http://localhost:5000/api/records', { staffId: user.staffId, type: 'clock-out' });\n            if (user.staffId) {\n              fetchRecords(user.staffId);\n            }\n            setError(null);\n          } catch (error: any) {\n            setError(error.response.data.message);\n          }\n        } else {\n          setError('Mohon aktifkan GPS anda.');\n        }\n      },\n      () => {\n        setError('Tidak dapat mengambil lokasi Anda.');\n      }\n    );\n  };\n\n  const handleSort = (column: keyof Attendance) => {\n    if (sortColumn === column) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortColumn(column);\n      setSortDirection('asc');\n    }\n  };\n\n  const handleWorkTimeSort = (column: keyof WorkTimeRecord) => {\n    if (workTimeSortColumn === column) {\n      setWorkTimeSortDirection(workTimeSortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setWorkTimeSortColumn(column);\n      setWorkTimeSortDirection('asc');\n    }\n  };\n\n  const sortedAttendance = [...attendance]\n    .filter((a) => {\n      const attendanceDate = new Date(a.date);\n      const monthMatch = selectedMonth === -1 || attendanceDate.getMonth() === selectedMonth;\n      const yearMatch = selectedYear === -1 || attendanceDate.getFullYear() === selectedYear;\n\n      const searchMatch = \n        (a.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        a.status.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        a.date.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        a.time.toLowerCase().includes(searchTerm.toLowerCase()));\n\n      return (user.role === 'admin' || (user.role === 'staff' && a.staffId === user.staffId)) && monthMatch && yearMatch && searchMatch;\n    })\n    .sort((a, b) => {\n      if (sortColumn === null) return 0;\n\n      const aValue = a[sortColumn];\n      const bValue = b[sortColumn];\n\n      return sortDirection === 'asc' ? String(aValue).localeCompare(String(bValue)) : String(bValue).localeCompare(String(aValue));\n    });\n\n  const sortedWorkTimeRecords = [...workTimeRecords]\n    .filter((r) => {\n      const recordDate = new Date(r.date);\n      const monthMatch = selectedMonth === -1 || recordDate.getMonth() === selectedMonth;\n      const yearMatch = selectedYear === -1 || recordDate.getFullYear() === selectedYear;\n\n      const searchMatch = \n        (r.name.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) ||\n        r.date.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) ||\n        r.clockInTime.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) ||\n        r.clockOutTime.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) ||\n        r.totalHours.toLowerCase().includes(workTimeSearchTerm.toLowerCase()));\n\n      return (user.role === 'admin' || (user.role === 'staff' && r.staffId === user.staffId)) && monthMatch && yearMatch && searchMatch;\n    })\n    .sort((a, b) => {\n      if (workTimeSortColumn === null) return 0;\n\n      const aValue = a[workTimeSortColumn];\n      const bValue = b[workTimeSortColumn];\n\n      return workTimeSortDirection === 'asc' ? String(aValue).localeCompare(String(bValue)) : String(bValue).localeCompare(String(aValue));\n    });\n\n  return (\n    <div className=\"container mt-5\">\n      <button className=\"btn btn-danger mb-4\" onClick={onLogout}>Logout</button>\n      \n      <h1 className=\"mb-4\">Aplikasi Absensi Staff dan Guru</h1>\n\n      <div className=\"row\">\n        {staff\n          .filter((s) => user.role === 'admin' || (user.role === 'staff' && s._id === user.staffId))\n          .map((s) => (\n            <div key={s._id} className=\"col-md-4 mb-4\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">{s.name}</h5>\n                </div>\n              </div>\n            </div>\n          ))}\n      </div>\n\n      {user.role === 'staff' && (\n        <div className=\"card mb-4\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Laporan Kehadiran Harian</h5>\n            <div className=\"d-flex justify-content-center mb-4\">\n              <button className=\"btn btn-success me-2\" onClick={() => {\n                const currentUser = user as User;\n                if (currentUser.staffId) {\n                  handleAttendance(currentUser.staffId, currentUser.name, 'Hadir');\n                } else {\n                  setError('Staff ID is missing for attendance. Please contact support.');\n                }\n              }}>\n                Hadir\n              </button>\n              <button className=\"btn btn-warning me-2\" onClick={() => {\n                const currentUser = user as User;\n                if (currentUser.staffId) {\n                  handleAttendance(currentUser.staffId, currentUser.name, 'Sakit');\n                } else {\n                  setError('Staff ID is missing for attendance. Please contact support.');\n                }\n              }}>\n                Sakit\n              </button>\n              <button className=\"btn btn-info\" onClick={() => {\n                const currentUser = user as User;\n                if (currentUser.staffId) {\n                  handleAttendance(currentUser.staffId, currentUser.name, 'Izin');\n                } else {\n                  setError('Staff ID is missing for attendance. Please contact support.');\n                }\n              }}>\n                Izin\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      {user.role === 'staff' && (\n        <div className=\"card mb-4\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Pencacatan Waktu Kerja Harian</h5>\n            <div className=\"d-flex justify-content-center mb-4\">\n            <button className=\"btn btn-primary me-2\" onClick={handleClockIn} disabled={clockStatus === 'in'}>Masuk</button>\n            <button className=\"btn btn-danger\" onClick={handleClockOut} disabled={clockStatus === 'out'}>Pulang</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n\n      {user.role === 'staff' && (\n        <div className=\"card mb-4\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Aktivitas Kehadiran Hari Ini</h5>\n            <ul>\n              {attendance\n                .filter(a => a.staffId === user.staffId && a.date === new Date().toISOString().split('T')[0])\n                .map(att => (\n                  <li key={att._id}>\n                    Anda tercatat <strong>{att.status}</strong> pada jam {att.time}.\n                  </li>\n              ))}\n              {attendance.filter(a => a.staffId === user.staffId && a.date === new Date().toISOString().split('T')[0]).length === 0 && (\n                <li>Belum ada laporan kehadiran untuk hari ini.</li>\n              )}\n            </ul>\n          </div>\n        </div>\n      )}\n\n      {user.role === 'staff' && (\n        <div className=\"card mb-4\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Aktivitas Masuk/Keluar Jam Kerja Hari Ini</h5>\n            <p>Status: Anda sedang {clockStatus === 'in' ? 'bekerja' : 'tidak bekerja'}</p>\n            <ul>\n              {records.map(record => (\n                <li key={record._id}>\n                  {record.type === 'clock-in' ? 'Masuk pada' : 'Pulang pada'} {new Date(record.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false })}\n                </li>\n              ))}\n              {totalWorkTime && (\n                <li>\n                  Total waktu kerja: <strong>{totalWorkTime}</strong>\n                </li>\n              )}\n            </ul>\n          </div>\n        </div>\n      )}\n\n      <h2 className=\"mt-5\">Riwayat Kehadiran</h2>\n      <div className=\"row mb-3\">\n        <div className=\"col-md-6\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Cari riwayat absensi...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n        </div>\n        <div className=\"col-md-4\">\n          <select className=\"form-select\" value={selectedMonth} onChange={(e) => setSelectedMonth(parseInt(e.target.value))}>\n            <option value={-1}>Semua Bulan</option>\n            {['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'].map((month, index) => (\n              <option key={index} value={index}>{month}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"col-md-2\">\n          <select className=\"form-select\" value={selectedYear} onChange={(e) => setSelectedYear(parseInt(e.target.value))}>\n            <option value={-1}>Semua Tahun</option>\n            {Array.from(new Set(attendance.map(a => new Date(a.date).getFullYear()))).map(year => (\n              <option key={year} value={year}>{year}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n      <div className=\"table-responsive\" style={{ maxHeight: '500px', overflowY: 'auto' }}>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th onClick={() => handleSort('name')} style={{ cursor: 'pointer' }}>\n                Nama {sortColumn === 'name' && (sortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n              <th onClick={() => handleSort('status')} style={{ cursor: 'pointer' }}>\n                Status {sortColumn === 'status' && (sortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n              <th onClick={() => handleSort('date')} style={{ cursor: 'pointer' }}>\n                Tanggal {sortColumn === 'date' && (sortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n              <th onClick={() => handleSort('time')} style={{ cursor: 'pointer' }}>\n                Waktu {sortColumn === 'time' && (sortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedAttendance.map((a) => (\n              <tr key={a._id}>\n                <td>{a.name}</td>\n                <td>{a.status}</td>\n                <td>{a.date}</td>\n                <td>{a.time}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      <h2 className=\"mt-5\">Riwayat Waktu Kerja</h2>\n      <div className=\"row mb-3\">\n        <div className=\"col-md-6\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Cari riwayat waktu kerja...\"\n            value={workTimeSearchTerm}\n            onChange={(e) => setWorkTimeSearchTerm(e.target.value)}\n          />\n        </div>\n        <div className=\"col-md-4\">\n          <select className=\"form-select\" value={selectedMonth} onChange={(e) => setSelectedMonth(parseInt(e.target.value))}>\n            <option value={-1}>Semua Bulan</option>\n            {['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'].map((month, index) => (\n              <option key={index} value={index}>{month}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"col-md-2\">\n          <select className=\"form-select\" value={selectedYear} onChange={(e) => setSelectedYear(parseInt(e.target.value))}>\n            <option value={-1}>Semua Tahun</option>\n            {Array.from(new Set(attendance.map(a => new Date(a.date).getFullYear()))).map(year => (\n              <option key={year} value={year}>{year}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n      <div className=\"table-responsive\" style={{ maxHeight: '500px', overflowY: 'auto' }}>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th onClick={() => handleWorkTimeSort('name')} style={{ cursor: 'pointer' }}>\n                Nama {workTimeSortColumn === 'name' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n              <th onClick={() => handleWorkTimeSort('date')} style={{ cursor: 'pointer' }}>\n                Tanggal {workTimeSortColumn === 'date' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n              <th onClick={() => handleWorkTimeSort('clockInTime')} style={{ cursor: 'pointer' }}>\n                Jam Masuk {workTimeSortColumn === 'clockInTime' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n              <th onClick={() => handleWorkTimeSort('clockOutTime')} style={{ cursor: 'pointer' }}>\n                Jam Pulang {workTimeSortColumn === 'clockOutTime' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n              <th onClick={() => handleWorkTimeSort('totalHours')} style={{ cursor: 'pointer' }}>\n                Total Jam Kerja {workTimeSortColumn === 'totalHours' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n              <th onClick={() => handleWorkTimeSort('keterangan')} style={{ cursor: 'pointer' }}>\n                Keterangan {workTimeSortColumn === 'keterangan' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedWorkTimeRecords.map((record) => (\n              <tr key={record._id}>\n                <td>{record.name}</td>\n                <td>{record.date}</td>\n                <td>{record.clockInTime}</td>\n                <td>{record.clockOutTime}</td>\n                <td>{record.totalHours}</td>\n                <td>{record.keterangan}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default MainApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}