{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mjamily\\\\Documents\\\\percobaan satu\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport axios from 'axios';\nimport './App.css';\nimport LoginPage from './LoginPage';\nimport AdminDashboard from './AdminDashboard';\nimport AuthRedirect from './AuthRedirect';\n\n// Define the office location (latitude and longitude)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OFFICE_LOCATION = {\n  latitude: -6.958115592601739,\n  // Replace with your office's latitude\n  longitude: 107.70755749004297 // Replace with your office's longitude\n};\nconst GEOFENCE_RADIUS = 50; // in meters\n\nfunction App() {\n  _s();\n  const [user, setUser] = useState(() => {\n    const savedUser = localStorage.getItem('user');\n    return savedUser ? JSON.parse(savedUser) : null;\n  });\n  console.log('Current user:', user);\n  const handleLogin = loggedInUser => {\n    localStorage.setItem('user', JSON.stringify(loggedInUser));\n    setUser(loggedInUser);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setUser(null);\n  };\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(AuthRedirect, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(LoginPage, {\n          onLogin: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: user && user.role === 'staff' ? /*#__PURE__*/_jsxDEV(MainApp, {\n          user: user,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 66\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin\",\n        element: user && user.role === 'admin' ? /*#__PURE__*/_jsxDEV(AdminDashboard, {\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 71\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Hf3cKytBJrBoCzXAUnYLbqZnXDk=\");\n_c = App;\nconst MainApp = ({\n  user,\n  onLogout\n}) => {\n  _s2();\n  const [staff, setStaff] = useState([]);\n  const [attendance, setAttendance] = useState([]);\n  const [records, setRecords] = useState([]);\n  const [clockStatus, setClockStatus] = useState('out');\n  const [error, setError] = useState(null);\n  const [sortColumn, setSortColumn] = useState(null);\n  const [sortDirection, setSortDirection] = useState('asc');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [workTimeRecords, setWorkTimeRecords] = useState([]);\n  const [workTimeSortColumn, setWorkTimeSortColumn] = useState(null);\n  const [workTimeSortDirection, setWorkTimeSortDirection] = useState('asc');\n  const [workTimeSearchTerm, setWorkTimeSearchTerm] = useState('');\n  const fetchRecords = async id => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/records/${id}`);\n      const today = new Date().toISOString().slice(0, 10);\n      const todaysRecords = response.data.filter(r => r.timestamp.startsWith(today));\n      setRecords(todaysRecords);\n      if (todaysRecords.length > 0) {\n        setClockStatus(todaysRecords[todaysRecords.length - 1].type === 'clock-in' ? 'in' : 'out');\n      } else {\n        setClockStatus('out'); // Reset status if no records for today\n      }\n    } catch (error) {\n      console.error('Error fetching records:', error);\n      setClockStatus('out'); // Reset status on error\n    }\n  };\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/staff').then(response => setStaff(response.data));\n    axios.get('http://localhost:5000/api/attendance').then(response => setAttendance(response.data));\n    if (user.staffId !== undefined) {\n      fetchRecords(user.staffId);\n    }\n  }, [user.staffId]);\n  useEffect(() => {\n    if (user.staffId !== undefined && records.length > 0) {\n      processWorkTimeRecords(user.staffId, records);\n    }\n  }, [records, user.staffId]);\n  const handleAttendance = (staffId, name, status) => {\n    const now = new Date();\n    const date = now.toISOString().split('T')[0];\n    const time = now.toTimeString().split(' ')[0]; // Get HH:MM:SS\n\n    if (status === 'Hadir') {\n      if (!navigator.geolocation) {\n        setError('Geolocation is not supported by your browser');\n        return;\n      }\n      navigator.geolocation.getCurrentPosition(position => {\n        const {\n          latitude,\n          longitude\n        } = position.coords;\n        const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude);\n        if (distance <= GEOFENCE_RADIUS) {\n          submitAttendance(staffId, name, status, date, time);\n        } else {\n          setError('You are not within the office radius to mark attendance.');\n        }\n      }, () => {\n        setError('Unable to retrieve your location.');\n      });\n    } else {\n      submitAttendance(staffId, name, status, date, time);\n    }\n  };\n  const submitAttendance = (staffId, name, status, date, time) => {\n    axios.post('http://localhost:5000/api/attendance', {\n      staffId,\n      name,\n      status,\n      date,\n      time\n    }).then(response => {\n      setAttendance([...attendance, response.data]);\n      setError(null);\n    }).catch(err => {\n      if (err.response && err.response.status === 400) {\n        setError(err.response.data.message);\n      } else {\n        setError('An error occurred while submitting attendance.');\n      }\n    });\n  };\n  const getDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371e3; // metres\n    const φ1 = lat1 * Math.PI / 180; // φ, λ in radians\n    const φ2 = lat2 * Math.PI / 180;\n    const Δφ = (lat2 - lat1) * Math.PI / 180;\n    const Δλ = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) + Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c; // in metres\n  };\n  const processWorkTimeRecords = (staffId, records) => {\n    const dailyRecords = {};\n    records.forEach(record => {\n      const date = new Date(record.timestamp).toISOString().slice(0, 10);\n      if (!dailyRecords[date]) {\n        dailyRecords[date] = [];\n      }\n      dailyRecords[date].push(record);\n    });\n    const processedRecords = [];\n    for (const date in dailyRecords) {\n      const recordsForDate = dailyRecords[date].sort((a, b) => new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime());\n      const clockIn = recordsForDate.find(r => r.type === 'clock-in');\n      const clockOut = recordsForDate.reverse().find(r => r.type === 'clock-out');\n      let totalHours = 'N/A';\n      if (clockIn && clockOut) {\n        const startTime = new Date(clockIn.timestamp).getTime();\n        const endTime = new Date(clockOut.timestamp).getTime();\n        const diffMillis = endTime - startTime;\n        const hours = Math.floor(diffMillis / (1000 * 60 * 60));\n        const minutes = Math.floor(diffMillis % (1000 * 60 * 60) / (1000 * 60));\n        const seconds = Math.floor(diffMillis % (1000 * 60 * 60) % (1000 * 60) / 1000);\n        totalHours = `${hours} jam ${minutes} menit ${seconds} detik`;\n      } else if (clockIn) {\n        totalHours = 'Sedang Bekerja';\n      }\n      if (clockIn || clockOut) {\n        var _staff$find;\n        let keterangan = '';\n        if (clockIn) {\n          const clockInDate = new Date(clockIn.timestamp);\n          const sevenAM = new Date(clockInDate);\n          sevenAM.setHours(7, 0, 0, 0);\n          if (clockInDate.getTime() < sevenAM.getTime()) {\n            keterangan = 'Datang Lebih Awal';\n          } else if (clockInDate.getHours() === 7 && clockInDate.getMinutes() === 0 && clockInDate.getSeconds() === 0) {\n            keterangan = 'Tepat Waktu';\n          } else {\n            keterangan = 'Terlambat';\n          }\n        }\n        processedRecords.push({\n          id: processedRecords.length + 1,\n          staffId: staffId,\n          name: ((_staff$find = staff.find(s => s.id === staffId)) === null || _staff$find === void 0 ? void 0 : _staff$find.name) || 'Unknown',\n          date: date,\n          clockInTime: clockIn ? new Date(clockIn.timestamp).toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n            hour12: false\n          }) : 'N/A',\n          clockOutTime: clockOut ? new Date(clockOut.timestamp).toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n            hour12: false\n          }) : 'N/A',\n          totalHours: totalHours,\n          keterangan: keterangan\n        });\n      }\n    }\n    setWorkTimeRecords(processedRecords);\n  };\n  const handleClockIn = async () => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async position => {\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude);\n      if (distance <= GEOFENCE_RADIUS) {\n        try {\n          await axios.post('http://localhost:5000/api/records', {\n            staffId: user.staffId,\n            type: 'clock-in'\n          });\n          if (user.staffId) {\n            fetchRecords(user.staffId);\n          }\n          setError(null);\n        } catch (error) {\n          setError(error.response.data.message);\n        }\n      } else {\n        setError('Anda tidak berada dalam radius kantor untuk melakukan jam masuk.');\n      }\n    }, () => {\n      setError('Tidak dapat mengambil lokasi Anda.');\n    });\n  };\n  const handleClockOut = async () => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async position => {\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude);\n      if (distance <= GEOFENCE_RADIUS) {\n        try {\n          await axios.post('http://localhost:5000/api/records', {\n            staffId: user.staffId,\n            type: 'clock-out'\n          });\n          if (user.staffId) {\n            fetchRecords(user.staffId);\n          }\n          setError(null);\n        } catch (error) {\n          setError(error.response.data.message);\n        }\n      } else {\n        setError('Anda tidak berada dalam radius kantor untuk melakukan jam pulang.');\n      }\n    }, () => {\n      setError('Tidak dapat mengambil lokasi Anda.');\n    });\n  };\n  const handleSort = column => {\n    if (sortColumn === column) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortColumn(column);\n      setSortDirection('asc');\n    }\n  };\n  const handleWorkTimeSort = column => {\n    if (workTimeSortColumn === column) {\n      setWorkTimeSortDirection(workTimeSortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setWorkTimeSortColumn(column);\n      setWorkTimeSortDirection('asc');\n    }\n  };\n  const sortedAttendance = [...attendance].filter(a => (user.role === 'admin' || user.role === 'staff' && a.staffId === user.staffId) && (a.name.toLowerCase().includes(searchTerm.toLowerCase()) || a.status.toLowerCase().includes(searchTerm.toLowerCase()) || a.date.toLowerCase().includes(searchTerm.toLowerCase()) || a.time.toLowerCase().includes(searchTerm.toLowerCase()))).sort((a, b) => {\n    if (sortColumn === null) return 0;\n    const aValue = a[sortColumn];\n    const bValue = b[sortColumn];\n    if (typeof aValue === 'string' && typeof bValue === 'string') {\n      return sortDirection === 'asc' ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);\n    } else if (typeof aValue === 'number' && typeof bValue === 'number') {\n      return sortDirection === 'asc' ? aValue - bValue : bValue - aValue;\n    }\n    return 0;\n  });\n  const sortedWorkTimeRecords = [...workTimeRecords].filter(r => (user.role === 'admin' || user.role === 'staff' && r.staffId === user.staffId) && (r.name.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) || r.date.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) || r.clockInTime.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) || r.clockOutTime.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) || r.totalHours.toLowerCase().includes(workTimeSearchTerm.toLowerCase()))).sort((a, b) => {\n    if (workTimeSortColumn === null) return 0;\n    const aValue = a[workTimeSortColumn];\n    const bValue = b[workTimeSortColumn];\n    if (typeof aValue === 'string' && typeof bValue === 'string') {\n      return workTimeSortDirection === 'asc' ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);\n    } else if (typeof aValue === 'number' && typeof bValue === 'number') {\n      return workTimeSortDirection === 'asc' ? aValue - bValue : bValue - aValue;\n    }\n    return 0;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-danger mb-4\",\n      onClick: onLogout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-4\",\n      children: \"Aplikasi Absensi Staff dan Guru\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this), user.role === 'staff' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary me-2\",\n        onClick: handleClockIn,\n        disabled: clockStatus === 'in',\n        children: \"Masuk\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: handleClockOut,\n        disabled: clockStatus === 'out',\n        children: \"Pulang\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 17\n    }, this), user.role === 'staff' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: \"Aktivitas Masuk/Keluar Jam Kerja Hari Ini\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Status: Anda sedang \", clockStatus === 'in' ? 'bekerja' : 'tidak bekerja']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: records.map(record => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [record.type, \" at \", new Date(record.timestamp).toLocaleTimeString()]\n          }, record.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: staff.filter(s => user.role === 'admin' || user.role === 'staff' && s.id === user.staffId).map(s => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: s.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success me-2\",\n              onClick: () => handleAttendance(s.id, s.name, 'Hadir'),\n              children: \"Hadir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-warning me-2\",\n              onClick: () => handleAttendance(s.id, s.name, 'Sakit'),\n              children: \"Sakit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-info\",\n              onClick: () => handleAttendance(s.id, s.name, 'Izin'),\n              children: \"Izin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 15\n        }, this)\n      }, s.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mt-5\",\n      children: \"Riwayat Kehadiran\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Cari riwayat absensi...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleSort('name'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Nama \", sortColumn === 'name' && (sortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleSort('status'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Status \", sortColumn === 'status' && (sortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleSort('date'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Tanggal \", sortColumn === 'date' && (sortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleSort('time'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Waktu \", sortColumn === 'time' && (sortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: sortedAttendance.map(a => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: a.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: a.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: a.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: a.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this)]\n        }, a.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mt-5\",\n      children: \"Riwayat Waktu Kerja\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Cari riwayat waktu kerja...\",\n        value: workTimeSearchTerm,\n        onChange: e => setWorkTimeSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleWorkTimeSort('name'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Nama \", workTimeSortColumn === 'name' && (workTimeSortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleWorkTimeSort('date'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Tanggal \", workTimeSortColumn === 'date' && (workTimeSortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleWorkTimeSort('clockInTime'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Jam Masuk \", workTimeSortColumn === 'clockInTime' && (workTimeSortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleWorkTimeSort('clockOutTime'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Jam Pulang \", workTimeSortColumn === 'clockOutTime' && (workTimeSortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleWorkTimeSort('totalHours'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Total Jam Kerja \", workTimeSortColumn === 'totalHours' && (workTimeSortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => handleWorkTimeSort('keterangan'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [\"Keterangan \", workTimeSortColumn === 'keterangan' && (workTimeSortDirection === 'asc' ? '▲' : '▼')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: sortedWorkTimeRecords.map(record => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: record.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: record.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: record.clockInTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: record.clockOutTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: record.totalHours\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: record.keterangan\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 15\n          }, this)]\n        }, record.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 388,\n    columnNumber: 5\n  }, this);\n};\n_s2(MainApp, \"CEbzRMhDwBZzNBquGWHw0rWbZic=\");\n_c2 = MainApp;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"MainApp\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","axios","LoginPage","AdminDashboard","AuthRedirect","jsxDEV","_jsxDEV","OFFICE_LOCATION","latitude","longitude","GEOFENCE_RADIUS","App","_s","user","setUser","savedUser","localStorage","getItem","JSON","parse","console","log","handleLogin","loggedInUser","setItem","stringify","handleLogout","removeItem","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","onLogin","role","MainApp","onLogout","_c","_s2","staff","setStaff","attendance","setAttendance","records","setRecords","clockStatus","setClockStatus","error","setError","sortColumn","setSortColumn","sortDirection","setSortDirection","searchTerm","setSearchTerm","workTimeRecords","setWorkTimeRecords","workTimeSortColumn","setWorkTimeSortColumn","workTimeSortDirection","setWorkTimeSortDirection","workTimeSearchTerm","setWorkTimeSearchTerm","fetchRecords","id","response","get","today","Date","toISOString","slice","todaysRecords","data","filter","r","timestamp","startsWith","length","type","then","staffId","undefined","processWorkTimeRecords","handleAttendance","name","status","now","date","split","time","toTimeString","navigator","geolocation","getCurrentPosition","position","coords","distance","getDistance","submitAttendance","post","catch","err","message","lat1","lon1","lat2","lon2","R","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","dailyRecords","forEach","record","push","processedRecords","recordsForDate","sort","b","getTime","clockIn","find","clockOut","reverse","totalHours","startTime","endTime","diffMillis","hours","floor","minutes","seconds","_staff$find","keterangan","clockInDate","sevenAM","setHours","getHours","getMinutes","getSeconds","s","clockInTime","toLocaleTimeString","hour","minute","second","hour12","clockOutTime","handleClockIn","handleClockOut","handleSort","column","handleWorkTimeSort","sortedAttendance","toLowerCase","includes","aValue","bValue","localeCompare","sortedWorkTimeRecords","className","onClick","disabled","map","placeholder","value","onChange","e","target","style","cursor","_c2","$RefreshReg$"],"sources":["C:/Users/mjamily/Documents/percobaan satu/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './App.css';\nimport LoginPage from './LoginPage';\nimport AdminDashboard from './AdminDashboard';\nimport AuthRedirect from './AuthRedirect';\n\n\n// Define the office location (latitude and longitude)\nconst OFFICE_LOCATION = {\n  latitude: -6.958115592601739, // Replace with your office's latitude\n  longitude: 107.70755749004297, // Replace with your office's longitude\n};\nconst GEOFENCE_RADIUS = 50; // in meters\n\ninterface Staff {\n  id: number;\n  name: string;\n}\n\ninterface Attendance {\n  id: number;\n  staffId: number;\n  name: string;\n  status: string;\n  date: string;\n  time: string; // Added time property\n}\n\ninterface Record {\n  id: number;\n  staffId: number;\n  timestamp: string;\n  type: 'clock-in' | 'clock-out';\n}\n\ninterface WorkTimeRecord {\n  id: number;\n  staffId: number;\n  name: string;\n  date: string;\n  clockInTime: string;\n  clockOutTime: string;\n  totalHours: string;\n  keterangan: string;\n}\n\ninterface User {\n  id: number;\n  username: string;\n  role: 'admin' | 'staff';\n  staffId?: number;\n}\n\nfunction App() {\n  const [user, setUser] = useState<User | null>(() => {\n    const savedUser = localStorage.getItem('user');\n    return savedUser ? JSON.parse(savedUser) : null;\n  });\n\n  console.log('Current user:', user);\n\n  const handleLogin = (loggedInUser: User) => {\n    localStorage.setItem('user', JSON.stringify(loggedInUser));\n    setUser(loggedInUser);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setUser(null);\n  };\n\n  return (\n    <Router>\n      <AuthRedirect user={user} />\n      <Routes>\n        <Route path=\"/login\" element={<LoginPage onLogin={handleLogin} />} />\n        <Route path=\"/\" element={user && user.role === 'staff' ? <MainApp user={user} onLogout={handleLogout} /> : null} />\n        <Route path=\"/admin\" element={user && user.role === 'admin' ? <AdminDashboard onLogout={handleLogout} /> : null} />\n        \n      </Routes>\n    </Router>\n  );\n}\n\ninterface MainAppProps {\n  user: User;\n  onLogout: () => void;\n}\n\nconst MainApp: React.FC<MainAppProps> = ({ user, onLogout }) => {\n  const [staff, setStaff] = useState<Staff[]>([]);\n  const [attendance, setAttendance] = useState<Attendance[]>([]);\n  const [records, setRecords] = useState<Record[]>([]);\n  const [clockStatus, setClockStatus] = useState('out');\n  const [error, setError] = useState<string | null>(null);\n  const [sortColumn, setSortColumn] = useState<keyof Attendance | null>(null);\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n  const [searchTerm, setSearchTerm] = useState<string>('');\n\n  const [workTimeRecords, setWorkTimeRecords] = useState<WorkTimeRecord[]>([]);\n  const [workTimeSortColumn, setWorkTimeSortColumn] = useState<keyof WorkTimeRecord | null>(null);\n  const [workTimeSortDirection, setWorkTimeSortDirection] = useState<'asc' | 'desc'>('asc');\n  const [workTimeSearchTerm, setWorkTimeSearchTerm] = useState<string>('');\n\n  const fetchRecords = async (id: number) => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/records/${id}`);\n      const today = new Date().toISOString().slice(0, 10);\n      const todaysRecords = (response.data as Record[]).filter((r: Record) => r.timestamp.startsWith(today));\n      setRecords(todaysRecords);\n\n      if (todaysRecords.length > 0) {\n        setClockStatus(todaysRecords[todaysRecords.length - 1].type === 'clock-in' ? 'in' : 'out');\n      } else {\n        setClockStatus('out'); // Reset status if no records for today\n      }\n    } catch (error) {\n      console.error('Error fetching records:', error);\n      setClockStatus('out'); // Reset status on error\n    }\n  };\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/staff').then((response) => setStaff(response.data));\n    axios.get('http://localhost:5000/api/attendance').then((response) => setAttendance(response.data));\n    if (user.staffId !== undefined) {\n      fetchRecords(user.staffId);\n    }\n  }, [user.staffId]);\n\n  useEffect(() => {\n    if (user.staffId !== undefined && records.length > 0) {\n      processWorkTimeRecords(user.staffId, records);\n    }\n  }, [records, user.staffId]);\n\n  const handleAttendance = (staffId: number, name: string, status: string) => {\n    const now = new Date();\n    const date = now.toISOString().split('T')[0];\n    const time = now.toTimeString().split(' ')[0]; // Get HH:MM:SS\n\n    if (status === 'Hadir') {\n      if (!navigator.geolocation) {\n        setError('Geolocation is not supported by your browser');\n        return;\n      }\n\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const { latitude, longitude } = position.coords;\n          const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude);\n\n          if (distance <= GEOFENCE_RADIUS) {\n            submitAttendance(staffId, name, status, date, time);\n          } else {\n            setError('You are not within the office radius to mark attendance.');\n          }\n        },\n        () => {\n          setError('Unable to retrieve your location.');\n        }\n      );\n    } else {\n      submitAttendance(staffId, name, status, date, time);\n    }\n  };\n\n  const submitAttendance = (staffId: number, name: string, status: string, date: string, time: string) => {\n    axios.post('http://localhost:5000/api/attendance', { staffId, name, status, date, time })\n      .then((response) => {\n        setAttendance([...attendance, response.data]);\n        setError(null);\n      })\n      .catch((err) => {\n        if (err.response && err.response.status === 400) {\n          setError(err.response.data.message);\n        } else {\n          setError('An error occurred while submitting attendance.');\n        }\n      });\n  };\n\n  const getDistance = (lat1: number, lon1: number, lat2: number, lon2: number) => {\n    const R = 6371e3; // metres\n    const φ1 = (lat1 * Math.PI) / 180; // φ, λ in radians\n    const φ2 = (lat2 * Math.PI) / 180;\n    const Δφ = ((lat2 - lat1) * Math.PI) / 180;\n    const Δλ = ((lon2 - lon1) * Math.PI) / 180;\n\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\n              Math.cos(φ1) * Math.cos(φ2) *\n              Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    return R * c; // in metres\n  };\n\n  const processWorkTimeRecords = (staffId: number, records: Record[]) => {\n    const dailyRecords: { [key: string]: Record[] } = {};\n    records.forEach(record => {\n      const date = new Date(record.timestamp).toISOString().slice(0, 10);\n      if (!dailyRecords[date]) {\n        dailyRecords[date] = [];\n      }\n      dailyRecords[date].push(record);\n    });\n\n    const processedRecords: WorkTimeRecord[] = [];\n    for (const date in dailyRecords) {\n      const recordsForDate = dailyRecords[date].sort((a, b) => new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime());\n      const clockIn = recordsForDate.find(r => r.type === 'clock-in');\n      const clockOut = recordsForDate.reverse().find(r => r.type === 'clock-out');\n\n      let totalHours = 'N/A';\n      if (clockIn && clockOut) {\n        const startTime = new Date(clockIn.timestamp).getTime();\n        const endTime = new Date(clockOut.timestamp).getTime();\n        const diffMillis = endTime - startTime;\n\n        const hours = Math.floor(diffMillis / (1000 * 60 * 60));\n        const minutes = Math.floor((diffMillis % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor(((diffMillis % (1000 * 60 * 60)) % (1000 * 60)) / 1000);\n\n        totalHours = `${hours} jam ${minutes} menit ${seconds} detik`;\n      } else if (clockIn) {\n        totalHours = 'Sedang Bekerja';\n      }\n\n      if (clockIn || clockOut) {\n        let keterangan = '';\n        if (clockIn) {\n          const clockInDate = new Date(clockIn.timestamp);\n          const sevenAM = new Date(clockInDate);\n          sevenAM.setHours(7, 0, 0, 0);\n\n          if (clockInDate.getTime() < sevenAM.getTime()) {\n            keterangan = 'Datang Lebih Awal';\n          } else if (clockInDate.getHours() === 7 && clockInDate.getMinutes() === 0 && clockInDate.getSeconds() === 0) {\n            keterangan = 'Tepat Waktu';\n          } else {\n            keterangan = 'Terlambat';\n          }\n        }\n\n        processedRecords.push({\n          id: processedRecords.length + 1,\n          staffId: staffId,\n          name: staff.find(s => s.id === staffId)?.name || 'Unknown',\n          date: date,\n          clockInTime: clockIn ? new Date(clockIn.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false }) : 'N/A',\n          clockOutTime: clockOut ? new Date(clockOut.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false }) : 'N/A',\n          totalHours: totalHours,\n          keterangan: keterangan,\n        });\n      }\n    }\n    setWorkTimeRecords(processedRecords);\n  };\n\n  const handleClockIn = async () => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        const { latitude, longitude } = position.coords;\n        const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude);\n\n        if (distance <= GEOFENCE_RADIUS) {\n          try {\n            await axios.post('http://localhost:5000/api/records', { staffId: user.staffId, type: 'clock-in' });\n            if (user.staffId) {\n              fetchRecords(user.staffId);\n            }\n            setError(null);\n          } catch (error: any) {\n            setError(error.response.data.message);\n          }\n        } else {\n          setError('Anda tidak berada dalam radius kantor untuk melakukan jam masuk.');\n        }\n      },\n      () => {\n        setError('Tidak dapat mengambil lokasi Anda.');\n      }\n    );\n  };\n\n  const handleClockOut = async () => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        const { latitude, longitude } = position.coords;\n        const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude);\n\n        if (distance <= GEOFENCE_RADIUS) {\n          try {\n            await axios.post('http://localhost:5000/api/records', { staffId: user.staffId, type: 'clock-out' });\n            if (user.staffId) {\n              fetchRecords(user.staffId);\n            }\n            setError(null);\n          } catch (error: any) {\n            setError(error.response.data.message);\n          }\n        } else {\n          setError('Anda tidak berada dalam radius kantor untuk melakukan jam pulang.');\n        }\n      },\n      () => {\n        setError('Tidak dapat mengambil lokasi Anda.');\n      }\n    );\n  };\n\n  const handleSort = (column: keyof Attendance) => {\n    if (sortColumn === column) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortColumn(column);\n      setSortDirection('asc');\n    }\n  };\n\n  const handleWorkTimeSort = (column: keyof WorkTimeRecord) => {\n    if (workTimeSortColumn === column) {\n      setWorkTimeSortDirection(workTimeSortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setWorkTimeSortColumn(column);\n      setWorkTimeSortDirection('asc');\n    }\n  };\n\n  const sortedAttendance = [...attendance]\n    .filter((a) => (user.role === 'admin' || (user.role === 'staff' && a.staffId === user.staffId)) &&\n      (a.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n       a.status.toLowerCase().includes(searchTerm.toLowerCase()) ||\n       a.date.toLowerCase().includes(searchTerm.toLowerCase()) ||\n       a.time.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    )\n    .sort((a, b) => {\n      if (sortColumn === null) return 0;\n\n      const aValue = a[sortColumn];\n      const bValue = b[sortColumn];\n\n      if (typeof aValue === 'string' && typeof bValue === 'string') {\n        return sortDirection === 'asc' ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);\n      } else if (typeof aValue === 'number' && typeof bValue === 'number') {\n        return sortDirection === 'asc' ? aValue - bValue : bValue - aValue;\n      }\n      return 0;\n    });\n\n  const sortedWorkTimeRecords = [...workTimeRecords]\n    .filter((r) => (user.role === 'admin' || (user.role === 'staff' && r.staffId === user.staffId)) &&\n      (r.name.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) ||\n       r.date.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) ||\n       r.clockInTime.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) ||\n       r.clockOutTime.toLowerCase().includes(workTimeSearchTerm.toLowerCase()) ||\n       r.totalHours.toLowerCase().includes(workTimeSearchTerm.toLowerCase())\n      )\n    )\n    .sort((a, b) => {\n      if (workTimeSortColumn === null) return 0;\n\n      const aValue = a[workTimeSortColumn];\n      const bValue = b[workTimeSortColumn];\n\n      if (typeof aValue === 'string' && typeof bValue === 'string') {\n        return workTimeSortDirection === 'asc' ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);\n      } else if (typeof aValue === 'number' && typeof bValue === 'number') {\n        return workTimeSortDirection === 'asc' ? aValue - bValue : bValue - aValue;\n      }\n      return 0;\n    });\n\n  return (\n    <div className=\"container mt-5\">\n      <button className=\"btn btn-danger mb-4\" onClick={onLogout}>Logout</button>\n      \n      <h1 className=\"mb-4\">Aplikasi Absensi Staff dan Guru</h1>\n      {user.role === 'staff' && (\n        <div className=\"d-flex justify-content-center mb-4\">\n          <button className=\"btn btn-primary me-2\" onClick={handleClockIn} disabled={clockStatus === 'in'}>Masuk</button>\n          <button className=\"btn btn-danger\" onClick={handleClockOut} disabled={clockStatus === 'out'}>Pulang</button>\n        </div>\n      )}\n\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n\n      {user.role === 'staff' && (\n        <div className=\"card mb-4\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Aktivitas Masuk/Keluar Jam Kerja Hari Ini</h5>\n            <p>Status: Anda sedang {clockStatus === 'in' ? 'bekerja' : 'tidak bekerja'}</p>\n            <ul>\n              {records.map(record => (\n                <li key={record.id}>\n                  {record.type} at {new Date(record.timestamp).toLocaleTimeString()}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      )}\n\n      <div className=\"row\">\n        {staff\n          .filter((s) => user.role === 'admin' || (user.role === 'staff' && s.id === user.staffId))\n          .map((s) => (\n            <div key={s.id} className=\"col-md-4 mb-4\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">{s.name}</h5>\n                  <button className=\"btn btn-success me-2\" onClick={() => handleAttendance(s.id, s.name, 'Hadir')}>\n                    Hadir\n                  </button>\n                  <button className=\"btn btn-warning me-2\" onClick={() => handleAttendance(s.id, s.name, 'Sakit')}>\n                    Sakit\n                  </button>\n                  <button className=\"btn btn-info\" onClick={() => handleAttendance(s.id, s.name, 'Izin')}>\n                    Izin\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n      </div>\n\n      <h2 className=\"mt-5\">Riwayat Kehadiran</h2>\n      <div className=\"mb-3\">\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Cari riwayat absensi...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n      </div>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th onClick={() => handleSort('name')} style={{ cursor: 'pointer' }}>\n              Nama {sortColumn === 'name' && (sortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n            <th onClick={() => handleSort('status')} style={{ cursor: 'pointer' }}>\n              Status {sortColumn === 'status' && (sortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n            <th onClick={() => handleSort('date')} style={{ cursor: 'pointer' }}>\n              Tanggal {sortColumn === 'date' && (sortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n            <th onClick={() => handleSort('time')} style={{ cursor: 'pointer' }}>\n              Waktu {sortColumn === 'time' && (sortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {sortedAttendance.map((a) => (\n            <tr key={a.id}>\n              <td>{a.name}</td>\n              <td>{a.status}</td>\n              <td>{a.date}</td>\n              <td>{a.time}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      <h2 className=\"mt-5\">Riwayat Waktu Kerja</h2>\n      <div className=\"mb-3\">\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Cari riwayat waktu kerja...\"\n          value={workTimeSearchTerm}\n          onChange={(e) => setWorkTimeSearchTerm(e.target.value)}\n        />\n      </div>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th onClick={() => handleWorkTimeSort('name')} style={{ cursor: 'pointer' }}>\n              Nama {workTimeSortColumn === 'name' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n            <th onClick={() => handleWorkTimeSort('date')} style={{ cursor: 'pointer' }}>\n              Tanggal {workTimeSortColumn === 'date' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n            <th onClick={() => handleWorkTimeSort('clockInTime')} style={{ cursor: 'pointer' }}>\n              Jam Masuk {workTimeSortColumn === 'clockInTime' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n            <th onClick={() => handleWorkTimeSort('clockOutTime')} style={{ cursor: 'pointer' }}>\n              Jam Pulang {workTimeSortColumn === 'clockOutTime' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n            <th onClick={() => handleWorkTimeSort('totalHours')} style={{ cursor: 'pointer' }}>\n              Total Jam Kerja {workTimeSortColumn === 'totalHours' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n            <th onClick={() => handleWorkTimeSort('keterangan')} style={{ cursor: 'pointer' }}>\n              Keterangan {workTimeSortColumn === 'keterangan' && (workTimeSortDirection === 'asc' ? '▲' : '▼')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {sortedWorkTimeRecords.map((record) => (\n            <tr key={record.id}>\n              <td>{record.name}</td>\n              <td>{record.date}</td>\n              <td>{record.clockInTime}</td>\n              <td>{record.clockOutTime}</td>\n              <td>{record.totalHours}</td>\n              <td>{record.keterangan}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}